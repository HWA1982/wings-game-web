@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800;900&display=swap');

:root {
    --color-navy: #071934;
    --color-navy-light: #0a1f3d;
    --color-gold: #D4AF37;
    --color-gold-glow: rgba(212, 175, 55, 0.4);
    --color-white: #ffffff;
    --color-danger: #ff4444;
    --color-success: #2ecc71;
    --glass-bg: rgba(10, 31, 61, 0.95);
    --border-radius: 16px;
    --insta-gradient: linear-gradient(45deg, #f09433 0%, #e6683c 25%, #dc2743 50%, #cc2366 75%, #bc1888 100%);
}

* { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Inter', sans-serif; -webkit-tap-highlight-color: transparent; }

body {
    background-color: var(--color-navy);
    height: 100vh;
    overflow: hidden;
    display: flex; justify-content: center; align-items: center;
}

#app-container {
    width: 100%; max-width: 480px; height: 100%; position: relative;
    background: linear-gradient(180deg, rgba(7,25,52,0.85) 0%, rgba(7,25,52,0.95) 100%), url('assets/cenarios/background_azul.png');
    background-size: cover; background-position: center;
    display: flex; flex-direction: column;
    box-shadow: 0 0 60px rgba(0,0,0,0.6);
}

/* --- HUD --- */
#hud-header {
    position: absolute; top: 0; left: 0; width: 100%;
    padding: 40px 20px 10px 20px; z-index: 100;
    background: linear-gradient(180deg, rgba(7,25,52,1) 0%, rgba(7,25,52,0) 100%);
    pointer-events: none; 
}

#logo-main { width: 120px; display: block; margin: 0 auto 10px auto; filter: drop-shadow(0 0 10px var(--color-gold-glow)); }

.stats-bar { display: flex; justify-content: space-between; margin-bottom: 8px; pointer-events: auto; }
.stat-item { display: flex; flex-direction: column; }
.stat-label { font-size: 10px; color: var(--color-gold); letter-spacing: 1px; font-weight: 800; opacity: 0.9; }
.stat-value { font-size: 18px; color: var(--color-white); font-weight: 700; text-shadow: 0 2px 4px rgba(0,0,0,0.5); }

.progress-track { width: 100%; height: 6px; background: rgba(0,0,0,0.4); border-radius: 3px; border: 1px solid rgba(255,255,255,0.1); }
#progress-fill { height: 100%; width: 0%; background: var(--color-gold); transition: width 0.5s ease; box-shadow: 0 0 10px var(--color-gold); }
.progress-text { text-align: right; color: rgba(255,255,255,0.6); font-size: 11px; margin-top: 4px; font-weight: 600; }

/* --- CANVAS --- */
#gameCanvas { display: block; width: 100%; height: 100%; z-index: 1; }
#fireworksCanvas { 
    position: absolute; top: 0; left: 0; width: 100%; height: 100%;
    pointer-events: none; z-index: 150; display: none;
}

/* --- QUIZ --- */
#quiz-overlay {
    position: absolute; bottom: 0; left: 0; width: 100%;
    padding: 20px 20px 40px 20px; z-index: 50;
    background: linear-gradient(0deg, rgba(7,25,52,1) 20%, rgba(7,25,52,0.8) 60%, transparent 100%);
}

.question-card {
    background: var(--glass-bg);
    border: 1px solid rgba(212, 175, 55, 0.3);
    padding: 20px; border-radius: var(--border-radius);
    margin-bottom: 15px; min-height: 90px;
    display: flex; flex-direction: column;
    align-items: center; justify-content: center;
    backdrop-filter: blur(12px);
    box-shadow: 0 10px 30px rgba(0,0,0,0.4);
    position: relative; overflow: hidden;
}

#timer-container {
    width: 100%; height: 4px; background: rgba(255,255,255,0.1);
    position: absolute; top: 0; left: 0;
}
#timer-bar {
    width: 100%; height: 100%;
    background-color: var(--color-gold);
    transition: width 1s linear;
}

#question-text { color: var(--color-white); text-align: center; font-weight: 700; font-size: 16px; line-height: 1.4; margin-top: 10px; }

.options-grid { display: flex; flex-direction: column; gap: 10px; }
.btn-option {
    background: rgba(255,255,255,0.06);
    border: 1px solid rgba(255,255,255,0.15);
    color: var(--color-white); padding: 16px;
    border-radius: 12px; font-size: 15px; font-weight: 600;
    cursor: pointer; transition: all 0.2s; text-align: left;
}
.btn-option:active { transform: scale(0.98); background: rgba(255,255,255,0.1); }
.btn-option:disabled { opacity: 0.8; pointer-events: none; }

.btn-correct { background: rgba(46, 204, 113, 0.25) !important; border: 2px solid var(--color-success) !important; color: var(--color-success) !important; }
.btn-wrong { background: rgba(255, 68, 68, 0.25) !important; border: 2px solid var(--color-danger) !important; color: var(--color-danger) !important; }

/* --- MODAIS --- */
.full-screen-modal, #modal-feedback {
    position: absolute; top: 0; left: 0; width: 100%; height: 100%;
    background: var(--color-navy); z-index: 200;
    display: flex; align-items: center; justify-content: center; padding: 20px;
}
#modal-feedback { background: rgba(7, 25, 52, 0.96); }

/* AJUSTE DO TAMANHO DO MODAL E ÍCONES */
.modal-body, .modal-glass {
    width: 90%; max-width: 400px;
    background: var(--color-navy-light);
    border: 2px solid var(--color-gold); border-radius: 24px;
    padding: 30px 20px; text-align: center;
    box-shadow: 0 0 50px rgba(212, 175, 55, 0.15);
}

/* === NOVO: Ajuste de Fonte para Instruções === */
#screen-intro .modal-body div {
    font-size: 16px !important; /* Aumentado para melhor leitura */
    line-height: 1.6 !important;
}
#screen-intro p {
    margin-bottom: 15px !important;
}

/* CONTROLE DE TAMANHO DA IMAGEM DE FEEDBACK */
#feedback-icon {
    display: block;
    margin: 0 auto 15px auto;
    max-width: 140px; 
    max-height: 140px; 
    object-fit: contain;
}

.premium-title { 
    color: var(--color-gold) !important; font-size: 26px; font-weight: 900; 
    margin-bottom: 5px; text-transform: uppercase; letter-spacing: 1px; 
    text-shadow: 0 2px 10px rgba(0,0,0,0.8);
}
.premium-subtitle { color: var(--color-white) !important; font-size: 14px; margin-bottom: 25px; opacity: 0.9; }

#garage-grid {
    display: grid; grid-template-columns: 1fr 1fr; gap: 12px;
    max-height: 50vh; overflow-y: auto; margin-bottom: 20px; padding: 5px;
}
#garage-grid::-webkit-scrollbar { width: 4px; }
#garage-grid::-webkit-scrollbar-thumb { background: var(--color-gold); border-radius: 2px; }

.moto-card {
    border: 1px solid rgba(255,255,255,0.1); background: rgba(0,0,0,0.3);
    border-radius: 12px; padding: 15px; cursor: pointer; transition: border-color 0.2s;
    display: flex; flex-direction: column; align-items: center;
}
.moto-card.selected { border-color: var(--color-gold); background: rgba(212,175,55,0.1); box-shadow: 0 0 15px rgba(212,175,55,0.2); }
.moto-card img { width: 100%; height: 90px; object-fit: contain; margin-bottom: 8px; filter: drop-shadow(0 5px 5px rgba(0,0,0,0.5)); }

.moto-name { color: var(--color-gold) !important; font-size: 11px; margin-top: 5px; font-weight: 800; text-transform: uppercase; text-align: center; }

/* BOTÕES */
.btn-primary {
    width: 100%; background: var(--color-gold); color: var(--color-navy);
    border: none; padding: 18px; border-radius: 14px;
    font-weight: 900; font-size: 16px; text-transform: uppercase; letter-spacing: 1px;
    cursor: pointer; margin-top: 10px; transition: transform 0.1s;
}
.btn-primary:active { transform: scale(0.97); }

.btn-secondary {
    width: 100%; background: transparent; color: var(--color-gold);
    border: 2px solid var(--color-gold); padding: 15px; border-radius: 14px;
    font-weight: 700; font-size: 14px; text-transform: uppercase;
    cursor: pointer; margin-top: 10px;
}

.btn-insta {
    background: var(--insta-gradient);
    color: white; border: none;
    box-shadow: 0 4px 15px rgba(220, 39, 67, 0.4);
    font-size: 14px;
}

#feedback-title { color: var(--color-gold); font-size: 28px; font-weight: 900; margin: 10px 0 15px 0; }
#feedback-msg { color: #fff; line-height: 1.5; margin-bottom: 25px; font-size: 15px; }

/* EFEITOS */
#damage-overlay {
    position: absolute; top:0; left:0; width:100%; height:100%;
    background: radial-gradient(circle, transparent 40%, rgba(255,0,0,0.8) 100%);
    opacity: 0; pointer-events: none; z-index: 50; transition: opacity 0.2s;
}
#explosion-effect {
    position: absolute; width: 200px; height: 200px;
    object-fit: contain; z-index: 60; pointer-events: none;
    transform: translate(-50%, -50%);
}

@keyframes shake-red {
    0% { transform: scale(1); color: #fff; }
    25% { transform: scale(1.3); color: #ff0000; }
    50% { transform: translate(5px, 0); }
    75% { transform: translate(-5px, 0); }
    100% { transform: scale(1); color: #fff; }
}
.life-lost-anim { animation: shake-red 0.5s ease-in-out; }
.hidden { display: none !important; }

/* CONTORNO DO TROFÉU */
.trophy-contour-glow {
    filter: drop-shadow(0 0 2px #000) drop-shadow(0 0 5px #000) drop-shadow(0 0 15px #D4AF37);
    transform: scale(1.0); /* Removido o scale 1.1 para não aumentar mais */
    transition: transform 0.3s ease;
}